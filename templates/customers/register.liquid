<!-- /templates/customers/register.liquid -->
<section class="tw-py-9">
  <div class="tw-container tw-mx-auto sm:tw-max-w-screen-sm tw-px-5 md:tw-px-0">
    <h1 class="tw-text-matterhorn tw-text-32px/40px lg:tw-text-45px/56px tw-text-center tw-pb-6">{{ 'customer.register.title' | t }}</h1>

    <div class="tw-bg-aliceblue tw-py-10 tw-px-9">

      {% form "create_customer" %} 
      {{ form_errors | default_errors }}

      <div class="first-name tw-pb-4">
        <label class="tw-font-open-sans tw-text-black tw-text-16px/24px" for="first-name">{{ 'customer.register.first_name' | t }}</label>
        <br>
        <input class="tw-pl-2 tw-h-10 tw-border-2 tw-border-solid tw-border-gainsboro tw-rounded-sm tw-text-16px/24px tw-py-1 tw-w-full" type="text" name="customer[first_name]" required>
      </div>

      <div class="last-name tw-pb-4">
        <label class="tw-font-open-sans tw-text-black tw-text-16px/24px" for="last-name">{{ 'customer.register.last_name' | t }}</label>
        <br>
        <input class="tw-pl-2 tw-h-10 tw-border-2 tw-border-solid tw-border-gainsboro tw-rounded-sm tw-text-16px/24px tw-py-1 tw-w-full" type="text" name="customer[last_name]" required>
      </div>
      

      <div class="email tw-pb-4">
        <label class="tw-font-open-sans tw-text-black tw-text-16px/24px" for="email">{{ 'customer.register.email' | t }}</label>
        <br>
        <input class="tw-pl-2 tw-h-10 tw-border-2 tw-border-solid tw-border-gainsboro tw-rounded-sm tw-text-16px/24px tw-py-1 tw-w-full" type="email" name="customer[email]" required>
      </div>

      <div class="password tw-pb-9">
        <label class="tw-font-open-sans tw-text-black tw-text-16px/24px" for="password">{{ 'customer.register.password' | t }}</label>
        <br>
        <input class="tw-pl-2 tw-h-10 tw-border-2 tw-border-solid tw-border-gainsboro tw-rounded-sm tw-text-16px/24px tw-py-1 tw-w-full" type="password" name="customer[password]" required>
      </div>

      <div class="submit tw-text-center tw-pb-8">
        <button class="primary__button tw-w-48 sm:tw-w-full tw-py-3 tw-uppercase" type="submit">{{ 'customer.register.submit' | t }}</button>
      </div>

      <div class="tw-text-center">
        <a href="/pages/products" class="tw-block tw-underline tw-text-green hover:tw-text-hover-green tw-text-16px/22px tw-font-bold tw-font-open-sans">{{ 'customer.login.cancel' | t }}</a>
      </div>

      {% endform %} 
    </div>
  </div>
</section>

<script>
  (function() {
    var REDIRECT_PATH = '/pages/account-confirmation';

    var selector = '#create_customer, form[action$="/account"][method="post"]',
        $form = document.querySelectorAll(selector)[0];

    if ($form) {
      $redirect = document.createElement('input');
      $redirect.setAttribute('name', 'return_to');
      $redirect.setAttribute('type', 'hidden');
      $redirect.value = REDIRECT_PATH;
      $form.appendChild($redirect);
    }
  })();
</script>